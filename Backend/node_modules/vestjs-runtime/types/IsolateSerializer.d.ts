/// <reference types="node" />
import { Nullable } from 'vest-utils';
declare enum IsolateKeys {
    Type = "$type",
    Keys = "keys",
    Key = "key",
    Parent = "parent",
    Data = "data",
    AllowReorder = "allowReorder",
    Status = "status",
    AbortController = "abortController",
    Children = "children"
}
type IsolateKey = Nullable<string>;
type TIsolate<P extends IsolatePayload = IsolatePayload> = {
    [IsolateKeys.AllowReorder]?: boolean;
    [IsolateKeys.Parent]: Nullable<TIsolate>;
    [IsolateKeys.Type]: string;
    [IsolateKeys.Keys]: Nullable<Record<string, TIsolate>>;
    [IsolateKeys.Data]: DataOnly<P>;
    [IsolateKeys.Status]?: string;
    [IsolateKeys.AbortController]: AbortController;
    children: Nullable<TIsolate[]>;
    key: IsolateKey;
    output: any;
} & UsedFeaturesOnly<P>;
type DataOnly<P extends IsolatePayload> = Omit<P, keyof IsolateFeatures>;
type UsedFeaturesOnly<P extends IsolatePayload> = Pick<P, keyof IsolateFeatures>;
type IsolateData = Record<string, any>;
type IsolatePayload = IsolateData & IsolateFeatures;
type IsolateFeatures = {
    [IsolateKeys.AllowReorder]?: boolean;
    [IsolateKeys.Status]?: string;
};
declare class IsolateSerializer {
    // eslint-disable-next-line max-statements, complexity, max-lines-per-function
    static deserialize(node: Record<string, any> | TIsolate | string): TIsolate;
    static serialize(isolate: Nullable<TIsolate>): string;
    static validateIsolate(node: Record<string, any> | TIsolate): asserts node is TIsolate;
}
export { IsolateSerializer };
//# sourceMappingURL=IsolateSerializer.d.ts.map