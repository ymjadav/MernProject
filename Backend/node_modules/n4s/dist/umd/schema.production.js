!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("n4s"),require("vest-utils")):"function"==typeof define&&define.amd?define(["exports","n4s","vest-utils"],t):t((n="undefined"!=typeof globalThis?globalThis:n||self).schema={},n.n4s,n["vest-utils"])}(this,(function(n,t,e){"use strict";function r(n,t){const e={pass:n};return t&&(e.message=t),e}function s(){return r(!1)}function o(){return r(!0)}function u(n,t){try{return n.run(t)}catch(n){return s()}}function i(n,e){for(const r in e){const s=n[r],o=e[r],i=t.ctx.run({value:s,set:!0,meta:{key:r}},(()=>u(o,s)));if(!i.pass)return i}return o()}t.enforce.extend({isArrayOf:function(n,r){return s=e.mapFirst(n,((n,e,s)=>{const o=t.ctx.run({value:n,set:!0,meta:{index:s}},(()=>u(r,n)));e(!o.pass,o)})),e.defaultTo(s,o());var s},loose:i,optional:function(n,t){return e.isNullish(n)?o():u(t,n)},shape:function(n,t){const r=i(n,t);if(!r.pass)return r;for(const r in n)if(!e.hasOwnProperty(t,r))return s();return o()}}),n.partial=function(n){const e={};for(const r in n)e[r]=t.enforce.optional(n[r]);return e}}));
//# sourceMappingURL=schema.production.js.map
