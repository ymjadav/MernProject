!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("vest-utils")):"function"==typeof define&&define.amd?define(["exports","vest-utils"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self).vast={},e["vest-utils"])}(this,(function(e,n){"use strict";e.createState=function(e){const t={references:[]},o=[];return{registerStateKey:function(e,n){const t=o.length;return o.push([e,n]),i(t,e)},reset:function(){const e=s();t.references=[],o.forEach((([n],t)=>i(t,n,e[t])))}};function i(e,t,o){return s().push(),r(e,n.optionalFunctionValue(t,o)),function(){return[s()[e],t=>r(e,n.optionalFunctionValue(t,s()[e]))]}}function s(){return t.references}function r(i,s){const r=t.references[i];t.references[i]=s;const[,u]=o[i];n.isFunction(u)&&u(s,r),n.isFunction(e)&&e()}}}));
//# sourceMappingURL=vast.production.js.map
