import{optionalFunctionValue as e,isFunction as n}from"vest-utils";function r(r){const t={references:[]},c=[];return{registerStateKey:function(e,n){const r=c.length;return c.push([e,n]),o(r,e)},reset:function(){const e=s();t.references=[],c.forEach((([n],r)=>o(r,n,e[r])))}};function o(n,r,t){return s().push(),u(n,e(r,t)),function(){return[s()[n],r=>u(n,e(r,s()[n]))]}}function s(){return t.references}function u(e,o){const s=t.references[e];t.references[e]=o;const[,u]=c[e];n(u)&&u(o,s),n(r)&&r()}}export{r as createState};
//# sourceMappingURL=vast.production.js.map
